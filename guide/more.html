<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>更多 | WTSC</title>
    <meta name="description" content="A solution of TS in CSS">
    <link rel="stylesheet" href="/wtsc-docs/assets/style.c62ae67b.css">
    <link rel="modulepreload" href="/wtsc-docs/assets/app.1218b19a.js">
    <link rel="modulepreload" href="/wtsc-docs/assets/guide_more.md.f09dbf1a.lean.js">
    
    <meta name="twitter:title" content="更多 | WTSC">
  <meta property="og:title" content="更多 | WTSC">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme"><header class="nav-bar" data-v-2ba227d5><div class="sidebar-button" data-v-2ba227d5><svg class="icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z" class></path></svg></div><a class="nav-bar-title" href="/wtsc-docs/" aria-label="WTSC, back to home" data-v-2ba227d5 data-v-b3da5816><!----> WTSC</a><div class="flex-grow" data-v-2ba227d5></div><div class="nav" data-v-2ba227d5><nav class="nav-links" data-v-2ba227d5 data-v-0fce24fe><!--[--><div class="item" data-v-0fce24fe><div class="nav-link" data-v-0fce24fe data-v-2cb643ba><a class="item active" href="/wtsc-docs/guide/" data-v-2cb643ba>引导 <!----></a></div></div><!--]--><!----><!----></nav></div><!--[--><!--]--></header><aside class="sidebar" data-v-79af364c><nav class="nav-links nav" data-v-79af364c data-v-0fce24fe><!--[--><div class="item" data-v-0fce24fe><div class="nav-link" data-v-0fce24fe data-v-2cb643ba><a class="item active" href="/wtsc-docs/guide/" data-v-2cb643ba>引导 <!----></a></div></div><!--]--><!----><!----></nav><!--[--><!--]--><ul class="sidebar-links" data-v-79af364c><!--[--><li class="sidebar-link"><a class="sidebar-link-item" href="/wtsc-docs/guide/">引导</a><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/wtsc-docs/guide/installation">安装</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/wtsc-docs/guide/introduction">介绍</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/wtsc-docs/guide/defWTSC">wtsc实例</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/wtsc-docs/guide/reactive">响应</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item active" href="/wtsc-docs/guide/more">更多</a><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="#keyframes">@keyframes</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#class-输出">class 输出</a><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="#与局部-api-混合双打！">与局部 api 混合双打！</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#伪类输出">伪类输出</a><!----></li></ul></li><li class="sidebar-link"><a class="sidebar-link-item" href="#沙箱">沙箱</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#主题">主题</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#inject">inject()</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#definjkey">defInjKey()</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#provide">provide()</a><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="#简单使用：">简单使用：</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#约束类型">约束类型</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#带描述的-key">带描述的 key</a><!----></li></ul></li><li class="sidebar-link"><a class="sidebar-link-item" href="#add">add()</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#out">out()</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#save">save()</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#tostring">toString()</a><!----></li></ul></li></ul></li><!--]--></ul><!--[--><!--]--></aside><div class="sidebar-mask"></div><main class="page" data-v-30e7de44><div class="container" data-v-30e7de44><!--[--><!--]--><div style="position:relative;" class="content" data-v-30e7de44><div><h1 id="更多" tabindex="-1">更多 <a class="header-anchor" href="#更多" aria-hidden="true">#</a></h1><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>还未整理的 api</p></div><h2 id="keyframes" tabindex="-1">@keyframes <a class="header-anchor" href="#keyframes" aria-hidden="true">#</a></h2><p>用于输出关键帧动画</p><div class="language-typescript line-numbers-mode"><pre><code>wtsc<span class="token punctuation">.</span>add
  <span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token string">&#39;20px&#39;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span>add<span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token string">&#39;20px&#39;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span>add<span class="token punctuation">.</span><span class="token function">animationName</span><span class="token punctuation">(</span>
    <span class="token function">keyframes</span><span class="token punctuation">(</span>
      <span class="token string">&#39;test&#39;</span><span class="token punctuation">,</span>
      <span class="token punctuation">(</span>a<span class="token punctuation">,</span> w<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token function">a</span><span class="token punctuation">(</span><span class="token string">&#39;from&#39;</span><span class="token punctuation">,</span> w<span class="token punctuation">.</span>add<span class="token punctuation">.</span><span class="token function">borderRadius</span><span class="token punctuation">(</span><span class="token constant">PE</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token function">a</span><span class="token punctuation">(</span><span class="token string">&#39;to&#39;</span><span class="token punctuation">,</span> w<span class="token punctuation">.</span>add<span class="token punctuation">.</span><span class="token function">borderRadius</span><span class="token punctuation">(</span><span class="token constant">PE</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      wtsc
    <span class="token punctuation">)</span>
  <span class="token punctuation">)</span>
<span class="token keyword">const</span> part <span class="token operator">=</span> wtsc<span class="token punctuation">.</span><span class="token function">out</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
assert<span class="token punctuation">.</span><span class="token function">equal</span><span class="token punctuation">(</span>part<span class="token punctuation">,</span> <span class="token string">&#39;height: 20px;width: 20px;animation-name: root-test;&#39;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h2 id="class-输出" tabindex="-1">class 输出 <a class="header-anchor" href="#class-输出" aria-hidden="true">#</a></h2><p>使用 class 输出后将会把<strong>前面</strong>的 style，并入 class 存储器，使用 out 进入输出流程</p><div class="language-typescript line-numbers-mode"><pre><code><span class="token keyword">const</span> value <span class="token operator">=</span> wtsc<span class="token punctuation">.</span><span class="token function">sham</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>add<span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token function">px</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">class</span><span class="token punctuation">(</span><span class="token string">&#39;classSelector&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">out</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>vlaue<span class="token punctuation">)</span> <span class="token comment">// classSelector</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>这个 api 在 nextTick()执行（这样可以避免在同步线程内多次更新 dom,增加运行效率，你可以放心的添加 class）</p><h3 id="与局部-api-混合双打！" tabindex="-1">与局部 api 混合双打！ <a class="header-anchor" href="#与局部-api-混合双打！" aria-hidden="true">#</a></h3><div class="language-typescript line-numbers-mode"><pre><code><span class="token operator">-</span> <span class="token keyword">const</span> value <span class="token operator">=</span> wtsc<span class="token punctuation">.</span><span class="token function">sham</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token operator">+</span> <span class="token keyword">const</span> value <span class="token operator">=</span> wtsc<span class="token punctuation">.</span><span class="token function">scoped</span><span class="token punctuation">(</span><span class="token string">&#39;具名&#39;</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span>add<span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token function">px</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">class</span><span class="token punctuation">(</span><span class="token string">&#39;classSelector&#39;</span><span class="token punctuation">)</span>
              <span class="token punctuation">.</span><span class="token function">out</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token comment">// 具名-classSelector</span>

<span class="token comment">// 随机</span>
<span class="token operator">-</span> <span class="token keyword">const</span> value <span class="token operator">=</span> wtsc<span class="token punctuation">.</span><span class="token function">scoped</span><span class="token punctuation">(</span><span class="token string">&#39;具名&#39;</span><span class="token punctuation">)</span>
<span class="token operator">+</span> <span class="token keyword">const</span> value <span class="token operator">=</span> wtsc<span class="token punctuation">.</span><span class="token function">scoped</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span>add<span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token function">px</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">class</span><span class="token punctuation">(</span><span class="token string">&#39;classSelector&#39;</span><span class="token punctuation">)</span>
              <span class="token punctuation">.</span><span class="token function">out</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token comment">// (随机哈希)-classSelector</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h3 id="伪类输出" tabindex="-1">伪类输出 <a class="header-anchor" href="#伪类输出" aria-hidden="true">#</a></h3><p>伪类必须在类后面定义如下面所见</p><p>也可以这么用</p><div class="language-typescript line-numbers-mode"><pre><code><span class="token comment">// ./class.wtsc.ts</span>
<span class="token keyword">function</span> <span class="token function">createHoverColor</span><span class="token punctuation">(</span>
  color<span class="token operator">:</span> RGBColor<span class="token punctuation">,</span>
  overlayAlpha<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">=</span> <span class="token number">0.50</span>
<span class="token punctuation">)</span><span class="token operator">:</span> RGBColor <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token function">mixColor</span><span class="token punctuation">(</span>color<span class="token punctuation">,</span> <span class="token function">rgb</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">,</span> overlayAlpha<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">createPressedColor</span><span class="token punctuation">(</span>
  color<span class="token operator">:</span> RGBColor<span class="token punctuation">,</span>
  overlayAlpha<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">=</span> <span class="token number">0.15</span>
<span class="token punctuation">)</span><span class="token operator">:</span> RGBAColor <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token function">mixColor</span><span class="token punctuation">(</span>color<span class="token punctuation">,</span> <span class="token function">rgb</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> overlayAlpha<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> color <span class="token operator">=</span> <span class="token function">rgb</span><span class="token punctuation">(</span><span class="token number">250</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">(</span>w<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  button<span class="token operator">:</span> w<span class="token punctuation">.</span><span class="token function">sham</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
              <span class="token punctuation">.</span>add<span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token function">px</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
              <span class="token punctuation">.</span>add<span class="token punctuation">.</span><span class="token function">backgroundColor</span><span class="token punctuation">(</span>color<span class="token punctuation">)</span>
              <span class="token punctuation">.</span>add<span class="token punctuation">.</span><span class="token function">userSelect</span><span class="token punctuation">(</span><span class="token string">&#39;none&#39;</span><span class="token punctuation">)</span>
              <span class="token punctuation">.</span>add<span class="token punctuation">.</span><span class="token function">transition</span><span class="token punctuation">(</span><span class="token string">&#39;all  300ms ease&#39;</span><span class="token punctuation">)</span>
              <span class="token punctuation">.</span><span class="token function">class</span><span class="token punctuation">(</span><span class="token string">&#39;testclass&#39;</span><span class="token punctuation">)</span>
              <span class="token punctuation">.</span>add<span class="token punctuation">.</span><span class="token function">backgroundColor</span><span class="token punctuation">(</span><span class="token function">createHoverColor</span><span class="token punctuation">(</span>color<span class="token punctuation">)</span><span class="token punctuation">)</span>
              <span class="token punctuation">.</span><span class="token function">pseudo</span><span class="token punctuation">(</span><span class="token string">&#39;:hover&#39;</span><span class="token punctuation">)</span>
              <span class="token punctuation">.</span>add<span class="token punctuation">.</span><span class="token function">backgroundColor</span><span class="token punctuation">(</span><span class="token function">createPressedColor</span><span class="token punctuation">(</span>color<span class="token punctuation">)</span><span class="token punctuation">)</span>
              <span class="token punctuation">.</span><span class="token function">pseudo</span><span class="token punctuation">(</span><span class="token string">&#39;:active&#39;</span><span class="token punctuation">)</span>
              <span class="token punctuation">.</span><span class="token function">out</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>

<span class="token punctuation">}</span>

<span class="token comment">// ./app.tsx</span>
<span class="token keyword">import</span> cl <span class="token keyword">from</span> <span class="token string">&#39;./class.wtsc.ts&#39;</span>
<span class="token keyword">const</span> name <span class="token operator">=</span> <span class="token string">&#39;app&#39;</span><span class="token punctuation">,</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> w <span class="token operator">=</span> wtsc<span class="token punctuation">.</span><span class="token function">scoped</span><span class="token punctuation">(</span><span class="token function">genHash</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> name<span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">default</span>  <span class="token function">defineCompution</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  name<span class="token punctuation">,</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>

    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token keyword">const</span>  c <span class="token operator">=</span> <span class="token function">cl</span><span class="token punctuation">(</span>w<span class="token punctuation">)</span>
      <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token operator">&lt;</span><span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span>div <span class="token operator">:</span><span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;[c]&quot;</span><span class="token operator">&gt;</span>测试 <span class="token keyword">class</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span>div <span class="token operator">:</span>style<span class="token operator">=</span>&quot;<span class="token punctuation">[</span>
                w<span class="token punctuation">.</span>add<span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token function">px</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">out</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">,</span>
                w<span class="token punctuation">.</span>add<span class="token punctuation">.</span><span class="token function">background</span><span class="token punctuation">(</span><span class="token string">&#39;red&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">out</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
              <span class="token punctuation">]</span>&quot;<span class="token operator">&gt;</span>简单样式<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br></div></div><h2 id="沙箱" tabindex="-1">沙箱 <a class="header-anchor" href="#沙箱" aria-hidden="true">#</a></h2><p>沙箱的作用是隔离作用域，沙箱的创建成本更低，适合用完就丢的任物如：</p><div class="language-typescript line-numbers-mode"><pre><code><span class="token keyword">const</span> xxx <span class="token operator">=</span> wtsc<span class="token punctuation">.</span><span class="token function">shandbox</span><span class="token punctuation">(</span><span class="token punctuation">(</span>wtsc<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  wtsc<span class="token punctuation">.</span>add<span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token function">px</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">//或</span>
<span class="token keyword">const</span> xxx <span class="token operator">=</span> wtsc<span class="token punctuation">.</span><span class="token function">shandbox</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>add<span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token function">px</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

consocle<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>xxx<span class="token punctuation">)</span> <span class="token comment">//  height: 30px;</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>在沙箱关闭前会自动将剩下的值导出,沙箱中修改任何内容关闭后数据都会丢失，比如 inject provide</p><p>沙箱的<code>&lt;style&gt;&lt;style&gt;</code>作用域默认继承父亲</p><ul><li>sham(&#39;name&#39;) 开启一个局部作用域，<code>&lt;style&gt;&lt;style&gt;</code>作用域默认继承父亲 <strong>sham 定义子 wtsc</strong></li><li>scoped(&#39;name&#39;) 定义一个包括<code>&lt;style&gt;&lt;style&gt;</code>隔离的 wtsc <strong>scoped 定义子 wtsc</strong></li><li>real() 获取父节点 <strong>real 返回父 wtsc</strong></li></ul><p>这两个 api 一定要成对出现，或者不要用的太多了，如果有一些没关掉，别弄出一些找不到的 bug，这两个 api 可以在多个文件内出现，这就是它的意义，你可以隔离一个不规整的作用域</p><h2 id="主题" tabindex="-1">主题 <a class="header-anchor" href="#主题" aria-hidden="true">#</a></h2><p>主题必须要在 wtsc 声明前定义才会有类型补充（ts 局限）</p><ul><li>简单定义</li></ul><p>定义过程和使用过程都有完整的类型声明</p><div class="language-typescript line-numbers-mode"><pre><code><span class="token keyword">const</span> wtsc <span class="token operator">=</span> <span class="token function">defTypeWTSC</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token function">defThemeKeys</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 这里推荐用provide,这样有个默认值使用过程就不会undefined</span>
    <span class="token comment">// 然后wtsc默认就会忽略掉undefined的项目</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      mainColor<span class="token operator">:</span> <span class="token function">p</span><span class="token punctuation">(</span><span class="token function">rgb</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      mainFontColor<span class="token operator">:</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">provide</span><span class="token punctuation">(</span><span class="token function">rgb</span><span class="token punctuation">(</span><span class="token number">14</span><span class="token punctuation">,</span> <span class="token number">14</span><span class="token punctuation">,</span> <span class="token number">14</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  themeList<span class="token operator">:</span> <span class="token punctuation">{</span>
    dark<span class="token operator">:</span> <span class="token punctuation">{</span>
      theme1<span class="token operator">:</span> <span class="token punctuation">{</span>
        mainColor<span class="token operator">:</span> <span class="token function">rgb</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        mainFontColor<span class="token operator">:</span> <span class="token function">rgb</span><span class="token punctuation">(</span><span class="token number">220</span><span class="token punctuation">,</span> <span class="token number">220</span><span class="token punctuation">,</span> <span class="token number">220</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    bright<span class="token operator">:</span>
      theme2<span class="token operator">:</span> <span class="token punctuation">{</span>
        mainColor<span class="token operator">:</span> <span class="token function">rgb</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        mainFontColor<span class="token operator">:</span> <span class="token function">rgb</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><ul><li>简单使用</li></ul><div class="language-typescript line-numbers-mode"><pre><code><span class="token keyword">const</span> the <span class="token operator">=</span> wtsc<span class="token punctuation">.</span>mainColor
wtsc<span class="token punctuation">.</span>add<span class="token punctuation">.</span><span class="token function">background</span><span class="token punctuation">(</span>the<span class="token punctuation">.</span>mainColor<span class="token punctuation">)</span>

<span class="token keyword">const</span> value <span class="token operator">=</span> wtsc<span class="token punctuation">.</span><span class="token function">inject</span><span class="token punctuation">(</span>the<span class="token punctuation">.</span>mainFontColor<span class="token punctuation">)</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>value<span class="token punctuation">.</span><span class="token function">out</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// &#39;rgb(14, 14, 14)&#39;</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ul><li>简单切换主题</li></ul><p>setTheme 函数中是有类型自动完成的，您不用担心您输入错误，可以放心大胆的切换主题，错误会得到一个警告不用担心，生产环境警告是会被删除的</p><div class="language-typescript line-numbers-mode"><pre><code><span class="token comment">//根据上面定义，下面这句代码类型推演里只有 `&#39;dark’` `&#39;bright&#39;` `&#39;theme1&#39;` `&#39;theme2&#39;`</span>
<span class="token comment">//默认第一层主题色系在前面</span>
<span class="token comment">//输入下面会选中暗色主题</span>
<span class="token comment">//单独输入暗色主题不会修改暗色系中的主题选中情况，下面将默认选中暗色中的第一个主题，如果您以前已经选择了第二个，就会选中第二个主题</span>
wtsc<span class="token punctuation">.</span><span class="token function">setTheme</span><span class="token punctuation">(</span><span class="token string">&#39;dark&#39;</span><span class="token punctuation">)</span>

<span class="token comment">//输入这个就会选中 `theme1` 主题</span>
wtsc<span class="token punctuation">.</span><span class="token function">setTheme</span><span class="token punctuation">(</span><span class="token string">&#39;theme1&#39;</span><span class="token punctuation">)</span>

<span class="token comment">//当您在第一个里没输入 dark,第二个只会有 `theme1` 这个选项</span>
wtsc<span class="token punctuation">.</span><span class="token function">setTheme</span><span class="token punctuation">(</span><span class="token string">&#39;dark&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;theme1&#39;</span><span class="token punctuation">)</span>

<span class="token comment">//当您第一个选中任何一个具体主题后，第二个选项输入任何内容都会报错，如下</span>
wtsc<span class="token punctuation">.</span><span class="token function">setTheme</span><span class="token punctuation">(</span><span class="token string">&#39;theme2&#39;</span><span class="token punctuation">,</span> 任何内容<span class="token punctuation">)</span> <span class="token comment">// 会报错，没有对应的重载</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h2 id="inject" tabindex="-1">inject() <a class="header-anchor" href="#inject" aria-hidden="true">#</a></h2><p>inject 是一个注入器， 可以简单的注入需要的内容</p><ul><li>@author meke</li><li>@template R</li><li>@param <code>{InjectKey&lt;R&gt;}</code> injectKey</li><li>@param <code>{R} [defau]</code></li><li>@return <code>{\*}</code> <code>{(R | undefined)}</code></li><li>@memberof Inject</li></ul><div class="language-typescript line-numbers-mode"><pre><code><span class="token comment">// 注入得到一个key，可以通过这个key得到对应的值</span>
<span class="token keyword">const</span> injectkey <span class="token operator">=</span> wtsc<span class="token punctuation">.</span><span class="token function">provide</span><span class="token punctuation">(</span><span class="token string">&#39;你好啊&#39;</span><span class="token punctuation">)</span>

<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> injectkey<span class="token punctuation">)</span> <span class="token comment">// InjectKey&lt;string&gt;</span>

<span class="token comment">// 使用inject可以得到key所对应的值 类型为注入的类型</span>
<span class="token keyword">const</span> value <span class="token operator">=</span> wtsc<span class="token punctuation">.</span><span class="token function">inject</span><span class="token punctuation">(</span>injectkey<span class="token punctuation">)</span>

<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> value<span class="token punctuation">)</span> <span class="token comment">// string | undefined</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token comment">// &#39;你好啊&#39;</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>同样的：</p><div class="language-typescript line-numbers-mode"><pre><code><span class="token comment">// 注入得到一个key，可以通过这个key得到对应的值</span>
<span class="token keyword">const</span> injectkey <span class="token operator">=</span> wtsc<span class="token punctuation">.</span><span class="token function">provide</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>

<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> injectkey<span class="token punctuation">)</span> <span class="token comment">// InjectKey&lt;number&gt;</span>

<span class="token comment">// 使用inject可以得到key所对应的值 类型为注入的类型</span>
<span class="token keyword">const</span> value <span class="token operator">=</span> wtsc<span class="token punctuation">.</span><span class="token function">inject</span><span class="token punctuation">(</span>injectkey<span class="token punctuation">)</span>

<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> value<span class="token punctuation">)</span> <span class="token comment">// number | undefined</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token comment">// 3</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><ul><li>默认值</li></ul><div class="language-typescript line-numbers-mode"><pre><code><span class="token comment">// 注入得到一个key，可以通过这个key得到对应的值</span>
<span class="token keyword">const</span> injectkey <span class="token operator">=</span> wtsc<span class="token punctuation">.</span><span class="token function">provide</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>

<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> injectkey<span class="token punctuation">)</span> <span class="token comment">// InjectKey&lt;number&gt;</span>

<span class="token comment">// 使用inject可以得到key所对应的值 类型为注入的类型</span>
<span class="token keyword">const</span> value <span class="token operator">=</span> wtsc<span class="token punctuation">.</span><span class="token function">inject</span><span class="token punctuation">(</span>injectkey ， <span class="token number">10</span><span class="token punctuation">)</span>

<span class="token comment">// 这里有默认值后就会只剩下number类型了</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> value<span class="token punctuation">)</span> <span class="token comment">// number</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token comment">// 3</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>我们可以定义一个不存在值的 key 使用 defInjKey() 或 wtsc.defInjKey()，目前这两个功能一样，未来可能会增加一些功能</p><div class="language-typescript line-numbers-mode"><pre><code><span class="token keyword">const</span> key <span class="token operator">=</span> wtsc<span class="token punctuation">.</span><span class="token generic-function"><span class="token function">defInjkey</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>

wtsc<span class="token punctuation">.</span><span class="token function">inject</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span> <span class="token comment">//return 10</span>
wtsc<span class="token punctuation">.</span><span class="token function">inject</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span> <span class="token comment">//return undefined</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="definjkey" tabindex="-1">defInjKey() <a class="header-anchor" href="#definjkey" aria-hidden="true">#</a></h2><p>作用是定义一个 InjectKey</p><p>更建议使用包装后的 provide()和 depProvide()这两个 api 你可以当做有默认生成 InjectKey 的功能，provide 自动生成，depProvide 树状结构生成，它们都是从输入的值类型中推断 InjectKey 的类型</p><ul><li>defInjKey</li><li>@author meke</li><li>@export</li><li>@template T</li><li>@param <code>string</code> [describe]</li><li>@param <code>T</code> [value]</li><li>@return <code>\*</code> <code>InjectKey&lt;T&gt;</code></li></ul><div class="language-typescript line-numbers-mode"><pre><code><span class="token keyword">const</span> key <span class="token operator">=</span> wtsc<span class="token punctuation">.</span><span class="token generic-function"><span class="token function">defInjKey</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> key<span class="token punctuation">)</span> <span class="token comment">// injectkey&lt;string&gt;</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="provide" tabindex="-1">provide() <a class="header-anchor" href="#provide" aria-hidden="true">#</a></h2><ul><li>传入一个值返回一个<code>InjectKey</code></li><li>@author meke</li><li>@template T</li><li>@param <code>T</code> value</li><li>@param <code>InjectKey&lt;T&gt;</code> [injectKey=defInjKey(&#39;provide&#39;)]</li><li>可以传入一个自定义 Injectkey 这样你可以输入描述等信息</li><li>@return <code>\*</code> <code>InjectKey&lt;T&gt;</code></li><li>@memberof Inject</li></ul><h3 id="简单使用：" tabindex="-1">简单使用： <a class="header-anchor" href="#简单使用：" aria-hidden="true">#</a></h3><div class="language-typescript line-numbers-mode"><pre><code><span class="token keyword">const</span> key <span class="token operator">=</span> wtsc<span class="token punctuation">.</span><span class="token function">provide</span><span class="token punctuation">(</span><span class="token string">&#39;你好&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">typeof</span> key <span class="token comment">//InjectKey&lt;string&gt;</span>
wtsc<span class="token punctuation">.</span><span class="token function">inject</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span> <span class="token comment">// &#39;你好&#39;</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="约束类型" tabindex="-1">约束类型 <a class="header-anchor" href="#约束类型" aria-hidden="true">#</a></h3><div class="language-typescript line-numbers-mode"><pre><code><span class="token keyword">const</span> key <span class="token operator">=</span> wtsc<span class="token punctuation">.</span><span class="token function">provide</span><span class="token punctuation">(</span><span class="token string">&#39;你好&#39;</span> <span class="token keyword">as</span> <span class="token string">&#39;你好&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">typeof</span> key <span class="token comment">//InjectKey&lt;‘你好’&gt;</span>
wtsc<span class="token punctuation">.</span><span class="token function">inject</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span> <span class="token comment">// &#39;你好&#39;</span>

<span class="token keyword">const</span> key1 <span class="token operator">=</span> wtsc<span class="token punctuation">.</span><span class="token function">provide</span><span class="token punctuation">(</span><span class="token number">3</span> <span class="token keyword">as</span> <span class="token number">3</span><span class="token punctuation">)</span>
<span class="token comment">//请注意我们告诉了它类型为3，意思就是这个变量只可能是3，其他结果（4，5）都不符合</span>
<span class="token comment">//更多类型相关 tslang.cn</span>
<span class="token keyword">typeof</span> key1 <span class="token comment">//InjectKey&lt;3&gt;</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="带描述的-key" tabindex="-1">带描述的 key <a class="header-anchor" href="#带描述的-key" aria-hidden="true">#</a></h3><div class="language-typescript line-numbers-mode"><pre><code><span class="token keyword">const</span> key <span class="token operator">=</span> wtsc<span class="token punctuation">.</span><span class="token function">provide</span><span class="token punctuation">(</span><span class="token string">&#39;你好帅&#39;</span><span class="token punctuation">,</span> <span class="token function">defInject</span><span class="token punctuation">(</span><span class="token string">&#39;&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
key<span class="token punctuation">.</span><span class="token punctuation">[</span><span class="token constant">IK</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// Symbol()</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="add" tabindex="-1">add() <a class="header-anchor" href="#add" aria-hidden="true">#</a></h2><p>有两种使用方法 一种是当函数，一种是当对象，运行方案一样运行结果也一样</p><div class="language-typescript line-numbers-mode"><pre><code>wtsc<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&#39;height&#39;</span><span class="token punctuation">,</span> <span class="token function">px</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

wtsc<span class="token punctuation">.</span>add<span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token function">px</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ul><li>有类型的</li></ul><p>如果输入 <code>wtsc.add.height(&#39;20&#39;)</code>会报错</p><ul><li>autoInjectKey 自动注入 InjectKey</li></ul><p>当为 add 传入 InjectKey 时将自动解包,当解包的 injectKey 为 undefined 时将跳过本条 css 样式处理，后面可能设计出更合理的方案</p><div class="language-typescript line-numbers-mode"><pre><code><span class="token keyword">const</span> csshwStyle <span class="token operator">=</span> wtsc<span class="token punctuation">.</span><span class="token generic-function"><span class="token function">provide</span><span class="token generic class-name"><span class="token operator">&lt;</span>CSSHWStyle<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token string">&#39;auto&#39;</span><span class="token punctuation">)</span>
wtsc<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&#39;height&#39;</span><span class="token punctuation">,</span> csshwStyle<span class="token punctuation">)</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>注意：直接使用<code>wtsc.provide(&#39;auto&#39;)</code>是会报错的，因为默认是一个 string 类型, 而 height 只允许使用 CSSHWStyle 类型你也可以使用<code>wtsc.provide&lt;&#39;auto&#39;&gt;(&#39;auto&#39;)</code>进行注入， 因为<code>CSSHWStyle</code>类型包括了<code>‘auto’</code>类型</p><h2 id="out" tabindex="-1">out() <a class="header-anchor" href="#out" aria-hidden="true">#</a></h2><div class="language-typescript line-numbers-mode"><pre><code>wtsc<span class="token punctuation">.</span>add<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token string">&#39;inherit&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">out</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// all: inherit;</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="save" tabindex="-1">save() <a class="header-anchor" href="#save" aria-hidden="true">#</a></h2><div class="language-typescript line-numbers-mode"><pre><code>wtsc<span class="token punctuation">.</span>add<span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token function">px</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> saveKey <span class="token operator">=</span> wtsc<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> stvleValue <span class="token operator">=</span> wtsc<span class="token punctuation">.</span><span class="token function">inject</span><span class="token punctuation">(</span>savekey<span class="token punctuation">)</span> <span class="token comment">// width: 20px;</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="tostring" tabindex="-1">toString() <a class="header-anchor" href="#tostring" aria-hidden="true">#</a></h2><div class="language-typescript line-numbers-mode"><pre><code>wtsc<span class="token punctuation">.</span>add<span class="token punctuation">.</span><span class="token function">meight</span><span class="token punctuation">(</span><span class="token function">px</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token constant">PE</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>会输出如下:</p><div class="language-css line-numbers-mode"><pre><code><span class="token selector">.wtsc</span> <span class="token punctuation">{</span>
  <span class="token property">meight</span><span class="token punctuation">:</span> 20px 30%<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ul><li>你也可以传入一个选择器值</li></ul><div class="language-typescript line-numbers-mode"><pre><code>wtsc<span class="token punctuation">.</span>add<span class="token punctuation">.</span><span class="token function">meight</span><span class="token punctuation">(</span><span class="token function">px</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token constant">PE</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token string">&#39;#wtsc&#39;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>out:</p><div class="language-css line-numbers-mode"><pre><code><span class="token selector">#wtsc</span> <span class="token punctuation">{</span>
  <span class="token property">meight</span><span class="token punctuation">:</span> 20px 30%<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></div></div><footer class="page-footer" data-v-30e7de44 data-v-504b1bfc><div class="edit" data-v-504b1bfc><div class="edit-link" data-v-504b1bfc data-v-40c300d5><!----></div></div><div class="updated" data-v-504b1bfc><!----></div></footer><div class="next-and-prev-link" data-v-30e7de44 data-v-0f10f042><div class="container" data-v-0f10f042><div class="prev" data-v-0f10f042><a class="link" href="/wtsc-docs/guide/reactive" data-v-0f10f042><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon icon-prev" data-v-0f10f042><path d="M19,11H7.4l5.3-5.3c0.4-0.4,0.4-1,0-1.4s-1-0.4-1.4,0l-7,7c-0.1,0.1-0.2,0.2-0.2,0.3c-0.1,0.2-0.1,0.5,0,0.8c0.1,0.1,0.1,0.2,0.2,0.3l7,7c0.2,0.2,0.5,0.3,0.7,0.3s0.5-0.1,0.7-0.3c0.4-0.4,0.4-1,0-1.4L7.4,13H19c0.6,0,1-0.4,1-1S19.6,11,19,11z"></path></svg><span class="text" data-v-0f10f042>响应</span></a></div><div class="next" data-v-0f10f042><!----></div></div></div><!--[--><!--]--></div></main></div><!----><!--]--></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"readme.md\":\"30e4654b\",\"guide_defwtsc.md\":\"8b205ff4\",\"guide_index.md\":\"bc1eff9f\",\"guide_installation.md\":\"83fb9d2a\",\"guide_introduction.md\":\"9fac4d82\",\"guide_more.md\":\"f09dbf1a\",\"guide_reactive.md\":\"9961586b\",\"index.md\":\"360a2e63\"}")</script>
    <script type="module" async src="/wtsc-docs/assets/app.1218b19a.js"></script>
    
  </body>
</html>